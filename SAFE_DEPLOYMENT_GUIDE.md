# üõ°Ô∏è –ë–µ–∑–ø–µ—á–Ω–∏–π –¥–µ–ø–ª–æ–π –±–µ–∑ –≤—Ç—Ä–∞—Ç–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—ñ–¥ —á–∞—Å –¥–µ–ø–ª–æ—é —á–µ—Ä–µ–∑ GitHub Actions –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ rsync –∑ `--delete`.

---

## ‚úÖ –©–æ –≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ

### 1. .gitignore
‚úÖ `server/database.sqlite` –≤–∂–µ –≤ .gitignore - –±–∞–∑–∞ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –≤ Git

### 2. .rsyncignore
‚úÖ `server/database.sqlite` –≤–∂–µ –≤ .rsyncignore - –±–∞–∑–∞ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ rsync

### 3. GitHub Actions workflow
‚úÖ –î–æ–¥–∞–Ω–æ –≤–∏–∫–ª—é—á–µ–Ω–Ω—è –¥–ª—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –≤ `.github/workflows/main.yml`:
- `--exclude=server/database.sqlite`
- `--exclude='*.sqlite'`
- `--exclude='*.db'`
- `--exclude=server/uploads` (–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —Ñ–∞–π–ª–∏)

---

## üîí –Ø–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–ª–∏–≤–∞—Ç–∏ –∑–º—ñ–Ω–∏

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ GitHub (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π)

1. **–ó—Ä–æ–±—ñ—Ç—å –∑–º—ñ–Ω–∏ –ª–æ–∫–∞–ª—å–Ω–æ**
2. **–ó–∞–∫–æ–º—ñ—Ç—å—Ç–µ –∑–º—ñ–Ω–∏:**
   ```bash
   git add .
   git commit -m "–û–ø–∏—Å –∑–º—ñ–Ω"
   git push origin main
   ```
3. **GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–¥–µ–ø–ª–æ—ó—Ç—å** - –±–∞–∑–∞ –¥–∞–Ω–∏—Ö **–ù–ï** –±—É–¥–µ –≤–∏–¥–∞–ª–µ–Ω–∞!

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É —á–µ—Ä–µ–∑ FTP/SFTP

–Ø–∫—â–æ —Ö–æ—á–µ—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª–∏ –≤—Ä—É—á–Ω—É:

1. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ FileZilla –∞–±–æ WinSCP**
2. **–ü—ñ–¥–∫–ª—é—á—ñ—Ç—å—Å—è –¥–æ —Å–µ—Ä–≤–µ—Ä–∞**
3. **–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ç—ñ–ª—å–∫–∏ –∑–º—ñ–Ω–µ–Ω—ñ —Ñ–∞–π–ª–∏**
4. **–ù–ï –∑–∞–≤–∞–Ω—Ç–∞–∂—É–π—Ç–µ:**
   - ‚ùå `server/database.sqlite` - –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
   - ‚ùå `server/.env` - –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
   - ‚ùå `server/uploads/` - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —Ñ–∞–π–ª–∏
   - ‚ùå `node_modules/` - –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

---

## üì¶ –©–æ –∑–∞–≤–∂–¥–∏ –≤–∏–∫–ª—é—á–∞—î—Ç—å—Å—è –∑ –¥–µ–ø–ª–æ—é

### –§–∞–π–ª–∏ —è–∫—ñ –ù–ï —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—é—Ç—å—Å—è:

- ‚úÖ `server/database.sqlite` - –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- ‚úÖ `server/.env` - –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
- ‚úÖ `server/uploads/` - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —Ñ–∞–π–ª–∏
- ‚úÖ `node_modules/` - –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
- ‚úÖ `*.log` - –ª–æ–≥–∏
- ‚úÖ `.pm2/` - PM2 —Ñ–∞–π–ª–∏
- ‚úÖ `*.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (–∫—Ä—ñ–º README.md)

---

## üîÑ –ü—Ä–æ—Ü–µ—Å –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é

### 1. –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ—î–º (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ - —Ä–µ–∑–µ—Ä–≤–Ω–∞ –∫–æ–ø—ñ—è)

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ
cd /home/tecsa/tecsamarket.com.ua/server

# –ó—Ä–æ–±–∏—Ç–∏ —Ä–µ–∑–µ—Ä–≤–Ω—É –∫–æ–ø—ñ—é –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
cp database.sqlite database.sqlite.backup-$(date +%Y%m%d-%H%M%S)
```

### 2. –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitHub

```bash
# –ù–∞ –≤–∞—à–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ
git add .
git commit -m "–û–ø–∏—Å –∑–º—ñ–Ω"
git push origin main
```

GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å —Ñ–∞–π–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚úÖ **–ù–ï** –≤–∏–¥–∞–ª–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–∏—Ö
- ‚úÖ **–ù–ï** –≤–∏–¥–∞–ª–∏—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —Ñ–∞–π–ª–∏
- ‚úÖ **–ù–ï** –≤–∏–¥–∞–ª–∏—Ç—å .env —Ñ–∞–π–ª

### 3. –ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ
cd /home/tecsa/tecsamarket.com.ua

# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
cd server && npm install
cd ../client && npm install && npm run build

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä
npx pm2 restart smartmarket

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏
npx pm2 logs smartmarket --lines 20
```

---

## üõ°Ô∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó

### –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó

```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π
cat > /home/tecsa/tecsamarket.com.ua/backup-db.sh << 'EOF'
#!/bin/bash
BACKUP_DIR="/home/tecsa/tecsamarket.com.ua/backups"
mkdir -p "$BACKUP_DIR"
cp /home/tecsa/tecsamarket.com.ua/server/database.sqlite "$BACKUP_DIR/database-$(date +%Y%m%d-%H%M%S).sqlite"
# –í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç–∞—Ä—ñ—à—ñ –∑–∞ 7 –¥–Ω—ñ–≤
find "$BACKUP_DIR" -name "database-*.sqlite" -mtime +7 -delete
echo "Backup created: database-$(date +%Y%m%d-%H%M%S).sqlite"
EOF

chmod +x /home/tecsa/tecsamarket.com.ua/backup-db.sh

# –î–æ–¥–∞—Ç–∏ –≤ cron –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏—Ö —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π (—â–æ–¥–Ω—è –æ 2:00)
crontab -l > /tmp/crontab_backup 2>/dev/null || true
echo "0 2 * * * /home/tecsa/tecsamarket.com.ua/backup-db.sh" >> /tmp/crontab_backup
crontab /tmp/crontab_backup
```

---

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ!

### –ù—ñ–∫–æ–ª–∏ –Ω–µ —Ä–æ–±—ñ—Ç—å:

- ‚ùå `rsync --delete` –±–µ–∑ –≤–∏–∫–ª—é—á–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- ‚ùå –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è `server/database.sqlite` –∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø'—é—Ç–µ—Ä–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (—è–∫—â–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ —î –¥–∞–Ω—ñ)
- ‚ùå –í–∏–¥–∞–ª–µ–Ω–Ω—è `server/database.sqlite` –≤—Ä—É—á–Ω—É
- ‚ùå –ö–æ–º—ñ—Ç `server/database.sqlite` –≤ Git

### –ó–∞–≤–∂–¥–∏ —Ä–æ–±—ñ—Ç—å:

- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ GitHub Actions –¥–ª—è –¥–µ–ø–ª–æ—é (–±–∞–∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–ª—é—á–∞—î—Ç—å—Å—è)
- ‚úÖ –†–æ–±—ñ—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó –ø–µ—Ä–µ–¥ –≤–µ–ª–∏–∫–∏–º–∏ –∑–º—ñ–Ω–∞–º–∏
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ —â–æ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–µ –≤–∏–¥–∞–ª–µ–Ω–∞ –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `.env` –¥–ª—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó (–Ω–µ –∫–æ–º—ñ—Ç—å—Ç–µ –≤ Git)

---

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö —ñ—Å–Ω—É—î
ls -la /home/tecsa/tecsamarket.com.ua/server/database.sqlite

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ —î –¥–∞–Ω—ñ
sqlite3 /home/tecsa/tecsamarket.com.ua/server/database.sqlite "SELECT COUNT(*) FROM products;"

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ —Å–µ—Ä–≤–µ—Ä –ø—Ä–∞—Ü—é—î
npx pm2 status
npx pm2 logs smartmarket --lines 20
```

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é

- [ ] –ó—Ä–æ–±–ª–µ–Ω–æ —Ä–µ–∑–µ—Ä–≤–Ω—É –∫–æ–ø—ñ—é –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ó–º—ñ–Ω–∏ –∑–∞–∫–æ–º—ñ—á–µ–Ω—ñ –≤ Git
- [ ] –ó–º—ñ–Ω–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ –Ω–∞ GitHub (`git push`)
- [ ] GitHub Actions —É—Å–ø—ñ—à–Ω–æ –≤–∏–∫–æ–Ω–∞–≤—Å—è
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–µ –≤–∏–¥–∞–ª–µ–Ω–∞ (–ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ `ls -la server/database.sqlite`)
- [ ] –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–∏–π (`npx pm2 restart smartmarket`)
- [ ] –°–∞–π—Ç –ø—Ä–∞—Ü—é—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –î–∞–Ω—ñ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –≤ –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—ñ

---

## üÜò –Ø–∫—â–æ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –≤—Å–µ –∂ —Ç–∞–∫–∏ –≤–∏–¥–∞–ª–µ–Ω–∞

### –í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ—ó –∫–æ–ø—ñ—ó

```bash
cd /home/tecsa/tecsamarket.com.ua/server

# –ó–Ω–∞–π—Ç–∏ —Ä–µ–∑–µ—Ä–≤–Ω—É –∫–æ–ø—ñ—é
ls -la backups/database-*.sqlite

# –í—ñ–¥–Ω–æ–≤–∏—Ç–∏
cp backups/database-YYYYMMDD-HHMMSS.sqlite database.sqlite

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä
cd /home/tecsa/tecsamarket.com.ua
npx pm2 restart smartmarket
```

---

## ‚úÖ –ü—ñ–¥—Å—É–º–æ–∫

–¢–µ–ø–µ—Ä –±–∞–∑–∞ –¥–∞–Ω–∏—Ö **–∑–∞—Ö–∏—â–µ–Ω–∞** –≤—ñ–¥ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø—ñ–¥ —á–∞—Å –¥–µ–ø–ª–æ—é:
- ‚úÖ –í–∫–ª—é—á–µ–Ω–æ –≤ `.gitignore`
- ‚úÖ –í–∫–ª—é—á–µ–Ω–æ –≤ `.rsyncignore`
- ‚úÖ –í–∏–∫–ª—é—á–µ–Ω–æ –≤ GitHub Actions workflow
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó (—è–∫—â–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ)

**–ú–æ–∂–µ—Ç–µ –±–µ–∑–ø–µ—á–Ω–æ –∑–∞–ª–∏–≤–∞—Ç–∏ –∑–º—ñ–Ω–∏ —á–µ—Ä–µ–∑ GitHub!** üéâ

