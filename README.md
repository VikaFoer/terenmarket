# SmartMarket - Internet Shop з унікальними цінами

Інтернет магазин з системою унікальних цін для кожного клієнта на основі коефіцієнтів.

## Особливості

- **Унікальні ціни**: Кожен клієнт бачить індивідуальні ціни на товари
- **Управління коефіцієнтами**: Адміністратор може встановлювати коефіцієнти для кожного клієнта та продукту
- **Категорії товарів**: Система категорій з можливістю обмеження доступу для клієнтів
- **Адмін панель**: Повне управління клієнтами, продуктами та коефіцієнтами

## Технології

- **Backend**: Node.js, Express, SQLite
- **Frontend**: React, Material-UI
- **Аутентифікація**: JWT

## Встановлення

1. Встановіть залежності:
```bash
npm run install-all
```

2. Запустіть сервер та клієнт:
```bash
npm run dev
```

Сервер буде доступний на `http://localhost:5000`
Клієнт буде доступний на `http://localhost:3000`

## Імпорт даних з Excel

Для імпорту клієнтів та продуктів з Excel файлу:

1. Покладіть файл `clients_products_prices.xlsx` в кореневу папку проекту (`D:\SmartMarket\`)

2. Запустіть скрипт імпорту:
```bash
cd server
npm run import
```

Скрипт автоматично:
- Згенерує унікальні логіни та паролі для кожного клієнта
- Створить клієнтів у системі
- Імпортує продукти з собівартістю
- Встановить коефіцієнти для кожного клієнта та продукту
- Збереже згенеровані credentials у файл `imported_credentials.txt`

**Примітка:** Скрипт автоматично розпізнає колонки в Excel файлі. Очікувані колонки:
- Клієнт / Client - назва клієнта
- Технічна назва / Product - назва продукту
- Собівартість / Cost - собівартість продукту
- Коефіцієнт / Coefficient - коефіцієнт для клієнта та продукту
- Email, Phone, Location (опціонально) - контактні дані

## Вхід в систему

**Адміністратор:**
- Логін: `admin`
- Пароль: `admin123`

## Структура бази даних

- **categories** - Категорії товарів
- **products** - Продукти з собівартістю
- **clients** - Клієнти з контактними даними
- **client_product_coefficients** - Коефіцієнти для кожного клієнта та продукту
- **client_categories** - Доступні категорії для кожного клієнта

## API Endpoints

### Аутентифікація
- `POST /api/auth/login` - Вхід в систему

### Адмін панель (потребує аутентифікації)
- `GET /api/admin/clients` - Отримати всіх клієнтів
- `POST /api/admin/clients` - Створити клієнта
- `PUT /api/admin/clients/:id` - Оновити клієнта
- `DELETE /api/admin/clients/:id` - Видалити клієнта
- `GET /api/admin/products` - Отримати всі продукти
- `POST /api/admin/products` - Створити продукт
- `PUT /api/admin/products/:id` - Оновити продукт
- `DELETE /api/admin/products/:id` - Видалити продукт
- `POST /api/admin/coefficients` - Встановити коефіцієнт
- `GET /api/admin/categories` - Отримати всі категорії

### Клієнтська частина (потребує аутентифікації)
- `GET /api/client/products` - Отримати доступні продукти з унікальними цінами

