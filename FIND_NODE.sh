#!/bin/bash

# ะกะบัะธะฟั ะดะปั ะฟะพััะบั Node.js ะฒ ัะธััะตะผั

echo "๐ ะจัะบะฐั Node.js ะฒ ัะธััะตะผั..."
echo ""

# ะกะฟะธัะพะบ ะผัััั ะดะปั ะฟะพััะบั
SEARCH_PATHS=(
    "/usr/local"
    "/usr"
    "/opt"
    "/home/tecsa"
    "/var"
)

FOUND=false

for search_path in "${SEARCH_PATHS[@]}"; do
    echo "ะจัะบะฐั ะฒ $search_path..."
    result=$(find "$search_path" -name "node" -type f 2>/dev/null | head -5)
    if [ ! -z "$result" ]; then
        echo "โ ะะฝะฐะนะดะตะฝะพ:"
        echo "$result"
        echo ""
        FOUND=true
        
        # ะะพะบะฐะทะฐัะธ ะฒะตัััั ะฟะตััะพะณะพ ะทะฝะฐะนะดะตะฝะพะณะพ
        first_node=$(echo "$result" | head -1)
        if [ -f "$first_node" ]; then
            echo "ะะตัััั:"
            "$first_node" --version 2>/dev/null || echo "ะะต ะฒะดะฐะปะพัั ะฒะธะทะฝะฐัะธัะธ ะฒะตัััั"
        fi
        break
    fi
done

if [ "$FOUND" = false ]; then
    echo "โ Node.js ะฝะต ะทะฝะฐะนะดะตะฝะพ ะฒ ัะธััะตะผั"
    echo ""
    echo "ะะตัะตะฒััะบะฐ ะฐะปััะตัะฝะฐัะธะฒะฝะธั ะผัััั..."
    
    # ะะตัะตะฒััะบะฐ ัะตัะตะท which (ัะบัะพ ะฒ PATH)
    if command -v node &> /dev/null; then
        echo "โ Node.js ะทะฝะฐะนะดะตะฝะพ ัะตัะตะท which:"
        which node
        node --version
    else
        echo "โ Node.js ะฝะต ะฒ PATH"
    fi
    
    # ะะตัะตะฒััะบะฐ ัะตัะตะท ะผะพะดัะปั (Modules)
    if [ -d "/usr/share/Modules" ]; then
        echo ""
        echo "ะะตัะตะฒััะบะฐ ะผะพะดัะปัะฒ ัะธััะตะผะธ..."
        module avail node 2>&1 | grep -i node || echo "ะะพะดัะปั Node.js ะฝะต ะทะฝะฐะนะดะตะฝะพ"
    fi
    
    echo ""
    echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
    echo "ะะะกะะะะะ: Node.js ะฝะต ะฒััะฐะฝะพะฒะปะตะฝะธะน"
    echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
    echo ""
    echo "ะััะตะฝะฝั:"
    echo "1. ะะฒะตัะฝััััั ะดะพ ะฟัะดััะธะผะบะธ ัะพััะธะฝะณั ะดะปั ะฒััะฐะฝะพะฒะปะตะฝะฝั Node.js"
    echo "2. ะะฑะพ ะฒััะฐะฝะพะฒััั ัะตัะตะท ะฟะฐะฝะตะปั ัะฟัะฐะฒะปัะฝะฝั ัะพััะธะฝะณะพะผ"
    echo "3. ะะฑะพ ะฒะธะบะพัะธััะฐะนัะต nvm (ัะบัะพ ะดะพะทะฒะพะปะตะฝะพ)"
fi

