# Інструкція з встановлення та запуску SmartMarket

## Крок 1: Встановлення залежностей

Встановіть всі необхідні залежності для проекту:

```bash
npm run install-all
```

Це встановить залежності для:
- Кореневого проекту
- Серверної частини (server/)
- Клієнтської частини (client/)

## Крок 2: Запуск проекту

### Варіант 1: Запуск обох частин одночасно (рекомендовано)

```bash
npm run dev
```

Це запустить:
- Backend сервер на `http://localhost:5000`
- Frontend додаток на `http://localhost:3000`

### Варіант 2: Запуск окремо

**Backend:**
```bash
cd server
npm start
```

**Frontend (в новому терміналі):**
```bash
cd client
npm start
```

## Крок 3: Вхід в систему

Відкрийте браузер і перейдіть на `http://localhost:3000`

**Для входу як адміністратор:**
- Логін: `admin`
- Пароль: `admin123`

## Структура проекту

```
SmartMarket/
├── server/              # Backend (Node.js + Express)
│   ├── database.js      # Налаштування бази даних SQLite
│   ├── index.js         # Точка входу сервера
│   ├── routes/          # API маршрути
│   └── middleware/      # Middleware для аутентифікації
├── client/              # Frontend (React)
│   ├── src/
│   │   ├── pages/       # Сторінки додатку
│   │   ├── components/  # React компоненти
│   │   └── context/     # React Context для аутентифікації
│   └── public/          # Статичні файли
└── README.md            # Основна документація
```

## База даних

База даних SQLite автоматично створюється при першому запуску сервера в файлі `server/database.sqlite`.

При першому запуску автоматично:
- Створюються всі необхідні таблиці
- Додаються категорії товарів
- Створюється адміністратор (login: admin, password: admin123)

## Можливості системи

### Адмін панель

1. **Управління клієнтами:**
   - Додавання нових клієнтів
   - Редагування логіну та паролю
   - Управління контактними даними (email, телефон, локація)
   - Налаштування доступних категорій для кожного клієнта
   - Управління коефіцієнтами для кожного продукту

2. **Управління продуктами:**
   - Додавання нових продуктів
   - Встановлення собівартості
   - Налаштування коефіцієнтів для конкретних клієнтів

### Клієнтська частина

- Перегляд доступних товарів (тільки з дозволених категорій)
- Відображення унікальних цін для кожного клієнта
- Відображення собівартості та коефіцієнта

## API Endpoints

### Аутентифікація
- `POST /api/auth/login` - Вхід в систему

### Адмін (потребує токен)
- `GET /api/admin/clients` - Список клієнтів
- `POST /api/admin/clients` - Створити клієнта
- `PUT /api/admin/clients/:id` - Оновити клієнта
- `DELETE /api/admin/clients/:id` - Видалити клієнта
- `GET /api/admin/clients/:id/coefficients` - Коефіцієнти клієнта
- `GET /api/admin/products` - Список продуктів
- `POST /api/admin/products` - Створити продукт
- `PUT /api/admin/products/:id` - Оновити продукт
- `DELETE /api/admin/products/:id` - Видалити продукт
- `GET /api/admin/products/:id/coefficients` - Коефіцієнти продукту
- `POST /api/admin/coefficients` - Встановити коефіцієнт
- `GET /api/admin/categories` - Список категорій

### Клієнт (потребує токен)
- `GET /api/client/products` - Доступні продукти з унікальними цінами

## Примітки

- Для продакшн використання змініть JWT_SECRET в `.env` файлі
- База даних SQLite зберігається в `server/database.sqlite`
- Для зміни порту сервера встановіть змінну оточення `PORT`

